<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libtourtre: tourtre.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>tourtre.h File Reference</h1>Include this file in your program.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="ctArc_8h_source.html">ctArc.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ctBranch_8h_source.html">ctBranch.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="ctNode_8h_source.html">ctNode.h</a>&quot;</code><br>

<p>
<a href="tourtre_8h_source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Holds all the data.  <a href="#05361d6ed00335524ed0bff4ca0ff628"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#b527145ef90fd7e2edee6c8b3889e01f">ct_init</a> (size_t numVertices, size_t *totalOrder, double(*value)(size_t v, void *), size_t(*neighbors)(size_t v, size_t *nbrs, void *), void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#d0c1f5a41b26d4fdcc80e2b7bd23a857">ct_maxValence</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, size_t max)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#7473f2ed71f47cda274b98874f3ccda0">ct_vertexFunc</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, void(*vertexFunc)(size_t v, <a class="el" href="structctArc.html">ctArc</a> *a, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#9de4deefcfa9b1430acaa7c2a60b1d3e">ct_arcMergeFunc</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, void(*arcMergeFunc)(<a class="el" href="structctArc.html">ctArc</a> *a, <a class="el" href="structctArc.html">ctArc</a> *b, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#ad7166e42ee91167ff4a5daa351824a4">ct_priorityFunc</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, double(*priorityFunc)(<a class="el" href="structctNode.html">ctNode</a> *, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#a6fc8276c33f90dd45785a460ee3bf1c">ct_arcAllocator</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, <a class="el" href="structctArc.html">ctArc</a> *(*allocArc)(void *), void(*freeArc)(<a class="el" href="structctArc.html">ctArc</a> *, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#aa2e5a15ad1a09642309f7e247f5e60c">ct_nodeAllocator</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, <a class="el" href="structctNode.html">ctNode</a> *(*allocNode)(void *), void(*freeNode)(<a class="el" href="structctNode.html">ctNode</a> *, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#c6d9ad81fa37ed1c7b46210cf647f23f">ct_branchAllocator</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx, <a class="el" href="structctBranch.html">ctBranch</a> *(*allocBranch)(void *), void(*freeBranch)(<a class="el" href="structctBranch.html">ctBranch</a> *, void *))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#f0fd93fd9a2b30afc09deaf917c3809d">ct_sweepAndMerge</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#b5389e485ff62453e317c15a1f7823ea">ct_joinSweep</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#f1a1d8af95baaae3c113ec7f00f7e484">ct_splitSweep</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#7cea28c54e775e27ae5406d9e03fe3c0">ct_mergeTrees</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctBranch.html">ctBranch</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#84f7160a1716b92e2a91d58e864567e0">ct_decompose</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#b78ae631bc00ab6dde3b631b3059e0f6">ct_cleanup</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctArc.html">ctArc</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#35ca85eb51b3f9d381610fe757435374">ct_arcMap</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctBranch.html">ctBranch</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#38740d587cd2a64e72b99817db763d38">ct_branchMap</a> (<a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#1c0734bf3449420c3ac7b4a7737a6394">ct_copyTree</a> (<a class="el" href="structctArc.html">ctArc</a> *src, int moveData, <a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#71ba6260b4f6a0595ba9ad5e465785e3">ct_arcsAndNodes</a> (<a class="el" href="structctArc.html">ctArc</a> *a, <a class="el" href="structctArc.html">ctArc</a> ***arcsOut, size_t *numArcsOut, <a class="el" href="structctNode.html">ctNode</a> ***nodesOut, size_t *numNodesOut)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tourtre_8h.html#a145bfbbe158b9efa75cf9085b2b0593">ct_deleteTree</a> (<a class="el" href="structctArc.html">ctArc</a> *a, <a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *ctx)</td></tr>

</table>
<hr><h2>Detailed Description</h2>
Include this file in your program. 
<p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="05361d6ed00335524ed0bff4ca0ff628"></a><!-- doxytag: member="tourtre.h::ctContext" ref="05361d6ed00335524ed0bff4ca0ff628" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> <a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Holds all the data. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a6fc8276c33f90dd45785a460ee3bf1c"></a><!-- doxytag: member="tourtre.h::ct_arcAllocator" ref="a6fc8276c33f90dd45785a460ee3bf1c" args="(ctContext *ctx, ctArc *(*allocArc)(void *), void(*freeArc)(ctArc *, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_arcAllocator           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structctArc.html">ctArc</a> *(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>allocArc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structctArc.html">ctArc</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>freeArc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provide your own alloc/free functions for <a class="el" href="structctArc.html" title="Arc of the contour tree.">ctArc</a> structures. You will need to use these if you want to subclass <a class="el" href="structctArc.html" title="Arc of the contour tree.">ctArc</a>. 
</div>
</div><p>
<a class="anchor" name="35ca85eb51b3f9d381610fe757435374"></a><!-- doxytag: member="tourtre.h::ct_arcMap" ref="35ca85eb51b3f9d381610fe757435374" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctArc.html">ctArc</a>** ct_arcMap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retreive the vertex-to-arc mapping. Returns an array of size equal to ctContext.numVerts, where element i points to the arc which contains vertex i. If i is a critical point, the map will point to one of the attached arcs. Ownership of the array is passed to the calling environment, HOWEVER the array must not be freed or modified if you want to call ct_decompose. Note that after ct_cleanup is called, the arcs that this map originally points to are freed, so you should copy them with ct_copyTree. 
</div>
</div><p>
<a class="anchor" name="9de4deefcfa9b1430acaa7c2a60b1d3e"></a><!-- doxytag: member="tourtre.h::ct_arcMergeFunc" ref="9de4deefcfa9b1430acaa7c2a60b1d3e" args="(ctContext *ctx, void(*arcMergeFunc)(ctArc *a, ctArc *b, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_arcMergeFunc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structctArc.html">ctArc</a> *a, <a class="el" href="structctArc.html">ctArc</a> *b, void *)&nbsp;</td>
          <td class="paramname"> <em>arcMergeFunc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is called when two arcs are merged by simplification. If you are keeping track of arc properties using ct_vertexFunc, then you will want to sum up those properties using this function. The first argument is the arc which will remain after the merge, the second argument is the one which will be deleted. 
</div>
</div><p>
<a class="anchor" name="71ba6260b4f6a0595ba9ad5e465785e3"></a><!-- doxytag: member="tourtre.h::ct_arcsAndNodes" ref="71ba6260b4f6a0595ba9ad5e465785e3" args="(ctArc *a, ctArc ***arcsOut, size_t *numArcsOut, ctNode ***nodesOut, size_t *numNodesOut)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_arcsAndNodes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structctArc.html">ctArc</a> ***&nbsp;</td>
          <td class="paramname"> <em>arcsOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>numArcsOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structctNode.html">ctNode</a> ***&nbsp;</td>
          <td class="paramname"> <em>nodesOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>numNodesOut</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Fetch all the arcs and nodes in a tree. They are returned in arrays arcsOut and nodesOut, which you must free. These are arrays of <a class="el" href="structctArc.html" title="Arc of the contour tree.">ctArc</a> and <a class="el" href="structctNode.html" title="Nodes of the contour tree.">ctNode</a> pointers, which are returned by reference, hence the *** silliness. 
</div>
</div><p>
<a class="anchor" name="c6d9ad81fa37ed1c7b46210cf647f23f"></a><!-- doxytag: member="tourtre.h::ct_branchAllocator" ref="c6d9ad81fa37ed1c7b46210cf647f23f" args="(ctContext *ctx, ctBranch *(*allocBranch)(void *), void(*freeBranch)(ctBranch *, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_branchAllocator           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structctBranch.html">ctBranch</a> *(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>allocBranch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structctBranch.html">ctBranch</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>freeBranch</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provide your own alloc/free functions for <a class="el" href="structctBranch.html" title="Branch of the branch decomposition.">ctBranch</a> structures. You will need to use this if you want to sublcass <a class="el" href="structctBranch.html" title="Branch of the branch decomposition.">ctBranch</a>. 
</div>
</div><p>
<a class="anchor" name="38740d587cd2a64e72b99817db763d38"></a><!-- doxytag: member="tourtre.h::ct_branchMap" ref="38740d587cd2a64e72b99817db763d38" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctBranch.html">ctBranch</a>** ct_branchMap           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retreive the vertex-to-branch mapping. Returns an array of size equal to ctContext.numVerts, where element i points to the branch which contains vertex i. If i is a saddle point, the map will point to the parent branch. IMPORTANT -- This function needs the arc map to do its thing. Don't modify or free the result of ct_arcMap before calling ct_branchMap. Ownership of the array is passed to the calling environment. It is your responsibility to free() this. This allows to you call ct_cleanup and still use your branch map. 
</div>
</div><p>
<a class="anchor" name="b78ae631bc00ab6dde3b631b3059e0f6"></a><!-- doxytag: member="tourtre.h::ct_cleanup" ref="b78ae631bc00ab6dde3b631b3059e0f6" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_cleanup           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free the working memory. 
</div>
</div><p>
<a class="anchor" name="1c0734bf3449420c3ac7b4a7737a6394"></a><!-- doxytag: member="tourtre.h::ct_copyTree" ref="1c0734bf3449420c3ac7b4a7737a6394" args="(ctArc *src, int moveData, ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctArc.html">ctArc</a>* ct_copyTree           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>moveData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructs a new tree which is a copy of src. If moveData is true, The 'data' fields of the arcs and nodes of the new tree will be copied from those of the old tree, while those fields in the old tree will be modified to point to the corresponding arc/node of the new tree. So the data fields are really 'moved' from the old tree to the new, not just copied. But you can still access the data from the old tree because those fields point to the new tree.<p>
This is not an ideal behavior; it would be nice to make a proper copy of the data fields. The issue is that I don't yet have an efficient way to make a copy the arcMap, so that it can be used to look up arcs in the new tree. Using this (lame, hackish) method, you can do the following:<p>
<div class="fragment"><pre class="fragment"> <a class="code" href="structctArc.html" title="Arc of the contour tree.">ctArc</a> *newTree = <a class="code" href="tourtre_8h.html#1c0734bf3449420c3ac7b4a7737a6394">ct_copyTree</a>(oldTree,TRUE,ctx);
 <a class="code" href="structctArc.html" title="Arc of the contour tree.">ctArc</a> **newArcMap = malloc( numVerts * <span class="keyword">sizeof</span>(<a class="code" href="structctArc.html" title="Arc of the contour tree.">ctArc</a>*) );
 <a class="code" href="structctArc.html" title="Arc of the contour tree.">ctArc</a> **oldArcMap = <a class="code" href="tourtre_8h.html#35ca85eb51b3f9d381610fe757435374">ct_arcMap</a>(ctx);
 <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;numVerts; ++i) 
   newArcMap[i] = oldArcMap[i]-&gt;data;
</pre></div><p>
Then you can copy the data fields back to the old tree if you need them for ct_decompose. 
</div>
</div><p>
<a class="anchor" name="84f7160a1716b92e2a91d58e864567e0"></a><!-- doxytag: member="tourtre.h::ct_decompose" ref="84f7160a1716b92e2a91d58e864567e0" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctBranch.html">ctBranch</a>* ct_decompose           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform the branch decomposition. Returns the root branch. This consumes the contour tree, so don't access the contour tree or use ct_arcMap after calling ct_decompose. If you need to keep the contour tree around, use ct_copyTree to make a copy of it. The branch-decomposition tree that is returned is YOURS. The library does not free it when ct_cleanup is called. 
</div>
</div><p>
<a class="anchor" name="a145bfbbe158b9efa75cf9085b2b0593"></a><!-- doxytag: member="tourtre.h::ct_deleteTree" ref="a145bfbbe158b9efa75cf9085b2b0593" args="(ctArc *a, ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_deleteTree           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structctArc.html">ctArc</a> *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a contour tree that you obtained from ct_copyTree. DON'T delete the original tree obtained from ct_sweepAndMerge or ct_mergeTrees; That one belongs to the library and will be freed by ct_cleaup 
</div>
</div><p>
<a class="anchor" name="b527145ef90fd7e2edee6c8b3889e01f"></a><!-- doxytag: member="tourtre.h::ct_init" ref="b527145ef90fd7e2edee6c8b3889e01f" args="(size_t numVertices, size_t *totalOrder, double(*value)(size_t v, void *), size_t(*neighbors)(size_t v, size_t *nbrs, void *), void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a>* ct_init           </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>numVertices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&nbsp;</td>
          <td class="paramname"> <em>totalOrder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double(*)(size_t v, void *)&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t(*)(size_t v, size_t *nbrs, void *)&nbsp;</td>
          <td class="paramname"> <em>neighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call this first. This function provides the needed data and callbacks to the library, so that it can compute the contour tree of your...whatever it is. This also allocates the working memory for the library. The corresponding deallocation function is ct_cleanup<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>numVertices</em>&nbsp;</td><td>Number of vertices in the mesh</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>totalOrder</em>&nbsp;</td><td>Array of vertex indexes, in sorted order.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Callback to get function value of a vertex v. Used only for estimating persistence of arcs.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>neighbors</em>&nbsp;</td><td>Callback to get the neighboring vertices of vertex v. This function should store the indexes of the neighbors in the array nbrs. The size of this array is 256 by default, but this can be increased by calling ct_maxValence.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>User data passed to all callbacks. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b5389e485ff62453e317c15a1f7823ea"></a><!-- doxytag: member="tourtre.h::ct_joinSweep" ref="b5389e485ff62453e317c15a1f7823ea" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_joinSweep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform just the join sweep. The point of calling this would be to also call the split sweep in another thread; they can be performed concurrently. After both are done, call ct_mergeTrees to get the final contour tree 
</div>
</div><p>
<a class="anchor" name="d0c1f5a41b26d4fdcc80e2b7bd23a857"></a><!-- doxytag: member="tourtre.h::ct_maxValence" ref="d0c1f5a41b26d4fdcc80e2b7bd23a857" args="(ctContext *ctx, size_t max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_maxValence           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Informs the library what the maximum valence of a vertex will be. Default is 256. Feel free to make this large, as an array of this size is only allocated once. 
</div>
</div><p>
<a class="anchor" name="7cea28c54e775e27ae5406d9e03fe3c0"></a><!-- doxytag: member="tourtre.h::ct_mergeTrees" ref="7cea28c54e775e27ae5406d9e03fe3c0" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctArc.html">ctArc</a>* ct_mergeTrees           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call this after ct_joinSweep and ct_splitSweep are finished. It will return an arc of the contour tree, same as ct_sweepAndMerge 
</div>
</div><p>
<a class="anchor" name="aa2e5a15ad1a09642309f7e247f5e60c"></a><!-- doxytag: member="tourtre.h::ct_nodeAllocator" ref="aa2e5a15ad1a09642309f7e247f5e60c" args="(ctContext *ctx, ctNode *(*allocNode)(void *), void(*freeNode)(ctNode *, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_nodeAllocator           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structctNode.html">ctNode</a> *(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>allocNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structctNode.html">ctNode</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>freeNode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Provide your own alloc/free functions for <a class="el" href="structctNode.html" title="Nodes of the contour tree.">ctNode</a> structures. You will need to use this if you want to sublcass <a class="el" href="structctNode.html" title="Nodes of the contour tree.">ctNode</a>. 
</div>
</div><p>
<a class="anchor" name="ad7166e42ee91167ff4a5daa351824a4"></a><!-- doxytag: member="tourtre.h::ct_priorityFunc" ref="ad7166e42ee91167ff4a5daa351824a4" args="(ctContext *ctx, double(*priorityFunc)(ctNode *, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_priorityFunc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double(*)(<a class="el" href="structctNode.html">ctNode</a> *, void *)&nbsp;</td>
          <td class="paramname"> <em>priorityFunc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define the simplification priority of an arc. The function is passed a leaf node. Use <a class="el" href="ctNode_8h.html#c38888c6acd7f8bfe113069b3be06b16">ctNode_leafArc()</a> to access the leaf arc. Arcs with smaller priority are pruned first. For example, you might use the arc area/volume directly as a simplification priority. 
</div>
</div><p>
<a class="anchor" name="f1a1d8af95baaae3c113ec7f00f7e484"></a><!-- doxytag: member="tourtre.h::ct_splitSweep" ref="f1a1d8af95baaae3c113ec7f00f7e484" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_splitSweep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform just the split sweep. The point of calling this would be to also call the join sweep in another thread; they can be performed concurrently. After both are done, call ct_mergeTrees to get the final contour tree 
</div>
</div><p>
<a class="anchor" name="f0fd93fd9a2b30afc09deaf917c3809d"></a><!-- doxytag: member="tourtre.h::ct_sweepAndMerge" ref="f0fd93fd9a2b30afc09deaf917c3809d" args="(ctContext *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structctArc.html">ctArc</a>* ct_sweepAndMerge           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform the sweep and merge algorithm. This will take a while. Returns some arc of the contour tree. The constructed tree is owned by the library, and will be deleted when ct_cleanup is called. If you want your own tree, use ct_copyTree. 
</div>
</div><p>
<a class="anchor" name="7473f2ed71f47cda274b98874f3ccda0"></a><!-- doxytag: member="tourtre.h::ct_vertexFunc" ref="7473f2ed71f47cda274b98874f3ccda0" args="(ctContext *ctx, void(*vertexFunc)(size_t v, ctArc *a, void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ct_vertexFunc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tourtre_8h.html#05361d6ed00335524ed0bff4ca0ff628">ctContext</a> *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(size_t v, <a class="el" href="structctArc.html">ctArc</a> *a, void *)&nbsp;</td>
          <td class="paramname"> <em>vertexFunc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process a vertex in the sweepAndMerge algorithm. This is called when the arc belonging to v is added to the contour tree. One use for this might be to estimate the area/volume of an arc. If your vertices are evenly spaced, then you can keep an accumulator in <a class="el" href="structctArc.html#735984d41155bc1032e09bece8f8d66d">ctArc.data</a> and add to it using this function. This function may not be called for every arc, but when it is called, you can use the vertex v as a <a href="http://citeseer.ist.psu.edu/bajaj98contour.html">path seed</a> for arc a. It will be called many times for the "big, important arcs." 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed May 19 14:43:13 2010 for libtourtre by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
